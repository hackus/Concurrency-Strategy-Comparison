<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Combined Operation Latency</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 16px; }
    .container { max-width: 980px; margin: 0 auto; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Average Operation Latency (ms) per Second</h2>
    <canvas id="latencyChart" width="900" height="420"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById('latencyChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ["0s","1s","2s","3s","4s","5s","6s","7s","8s","9s","10s","11s","12s","13s","14s","15s","16s","17s","18s","19s","20s","21s","22s","23s","24s","25s","26s","27s","28s","29s","30s","31s","32s","33s","34s","35s","36s","37s","38s","39s"],
        datasets: [
          {
            label: 'Insert Latency (ms)',
            data: [5.195,0.295,0.579,2.423,2.454,3.033,2.257,2.696,4.436,5.302,5.517,5.224,5.608,5.783,5.427,5.017,6.191,4.967,5.339,5.130,6.117,6.351,6.116,5.948,7.406,5.990,6.671,6.516,5.361,6.240,5.180,4.618,5.074,2.880,3.180,2.608,1.723,1.013,0.513,0.000],
            borderColor: 'rgba(54,162,235,1)',
            backgroundColor: 'rgba(54,162,235,0.2)',
            fill: false,
            tension: 0.2
          },
          {
            label: 'Update Latency (ms)',
            data: [4.727,0.157,0.225,0.336,0.445,0.540,0.728,1.346,1.500,2.006,2.228,2.508,2.956,3.185,3.135,3.716,4.323,4.245,4.628,4.676,5.136,5.277,5.598,6.250,6.200,6.909,7.175,7.330,7.947,8.125,8.394,8.964,8.805,8.263,8.481,8.093,8.196,8.171,8.167,7.874],
            borderColor: 'rgba(255,206,86,1)',
            backgroundColor: 'rgba(255,206,86,0.2)',
            fill: false,
            tension: 0.2
          },
          {
            label: 'Select Latency (ms)',
            data: [4.973,0.128,0.213,0.314,0.416,0.534,0.728,1.325,1.521,1.960,2.221,2.431,2.941,3.094,3.126,3.702,4.407,4.254,4.674,4.549,5.210,5.261,5.473,6.214,6.361,6.711,7.084,7.382,7.917,8.007,8.435,9.013,8.906,8.189,8.447,8.036,8.218,8.206,8.220,8.279],
            borderColor: 'rgba(75,192,192,1)',
            backgroundColor: 'rgba(75,192,192,0.2)',
            fill: false,
            tension: 0.2
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: 'Average Latency per Operation'
          },
          tooltip: {
            mode: 'index',
            intersect: false,
            callbacks: {
              label: item => `${item.dataset.label}: ${item.formattedValue} ms`
            }
          },
          legend: { position: 'top' }
        },
        scales: {
          y: { beginAtZero: true, title: { display: true, text: 'Latency (ms)' } },
          x: { title: { display: true, text: 'Time (seconds)' } }
        }
      }
    });
  </script>
</body>
</html>
